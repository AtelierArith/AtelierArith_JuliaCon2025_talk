---
title: Let's read Julia documentation in your preferred language
author: SatoshiTerasaki@AtelierArith
format:
  revealjs:
    theme: "black"
    css: "../styles/style.css"
    embed-resources: true
    slide-number: true
    show-notes: separate-page
    mermaid:
      theme: default
    gfm:
    mermaid-format: png
---

# Overview

- Introduction to DocstringTranslation.jl
- Multilingual translation of Julia documentation
- Run a demo

---

## Background and Issues

- Julia's official documentation is written in **English**
- High psychological and time costs for developers in non-English speaking regions
- Latest information is only available in English

**Solution**: An automatic translation system utilizing machine translation

---

## DocstringTranslation.jl

A package to translate Julia's docstrings into your preferred language

```julia
julia> using DocstringTranslation; @switchlang! :Japanese
julia> @doc exp
  exp(x)

  xの自然基底指数を計算します。言い換えれば、ℯ^xです。

  例
  ≡≡

  julia> exp(1.0)
  2.718281828459045
```

Uses ChatGPT API (`gpt-4o-mini`)

---

## Translation Mechanism

Hack the `Docs.parsedoc(d::DocStr)` method

```julia
@eval function Docs.parsedoc(d::DocStr)
    if d.object === nothing
        md = Docs.formatdoc(d)
        md.meta[:module] = d.data[:module]
        md.meta[:path] = d.data[:path]
        d.object = md
    end
    # d.object # <-- 元の実装
    translate_with_openai(d.object) # <-- ハック実装
end
```

---

## Challenges in Markdown Translation

- Risk of damaging the Markdown structure
- Need to protect Documenter syntax like `[xxx](@ref yyy)`
- Code blocks should not be translated

**Solution**: Use the `Markdown.parse` result for structure protection

---

## Implementation of Structure Protection

1. Replace elements like `Markdown.Link` with unique IDs
2. Execute translation
3. Restore IDs to the original structure

```julia
# 翻訳前: See [Julia docs](https://docs.julialang.org/en/v1/)
# 置換後: See `asfa93r_bfeafasf`
# 翻訳後: 詳しくは `asfa93r_bfeafasf` を見てください
# 復元後: 詳しくは [Julia docs](https://docs.julialang.org/en/v1/) を見てください
```

---

## Deliverables

**Multilingual Julia Documentation**:
- [Japanese](https://atelierarith.github.io/UnofficialJuliaDoc-ja/)
- [Korean](https://atelierarith.github.io/UnofficialJuliaDoc-ko/)
- [Chinese](https://atelierarith.github.io/UnofficialJuliaDoc-zh/)
- [German](https://atelierarith.github.io/UnofficialJuliaDoc-de/)
- [French](https://atelierarith.github.io/UnofficialJuliaDoc-fr/)
- [Spanish](https://atelierarith.github.io/UnofficialJuliaDoc-es/)

**Related Packages**:
- DocstringTranslationOllamaBackend.jl (Ollama support)
- DocstringTranslationGoogleTransBackend.jl (Google Translate support)

---

## Demo

Let's actually run the translation feature!

---

## Summary

- Achieved multilingualization of Julia documentation
- Supports both docstring and Documenter.jl
- Efficiency with translation result caching
- Supports multiple translation backends

**Future Prospects**:
- Improve translation quality
- Support for more languages
- Share translation results within the community

---

## Thank You

**Repositories**:
- [DocstringTranslation.jl](https://github.com/AtelierArith/DocstringTranslation.jl)
- [DocumenterTranslationOpenAIBackend.jl](https://github.com/AtelierArith/DocumenterTranslationOpenAIBackend.jl)

**Questions and discussions are welcome!**

